---
icon: network-wired
---

# Network Services

## FTP

#### Anonymous login

{% code overflow="wrap" %}
```bash
ftp anonymous@<target>  # No password needed
```
{% endcode %}

#### Auto login

{% code overflow="wrap" %}
```bash
sshpass -p '<password>' ftp <user>@<target>
```
{% endcode %}

#### Browser URL

{% code overflow="wrap" %}
```bash
ftp://<user>:<password>@<target>
```
{% endcode %}

#### SSL

{% code overflow="wrap" %}
```bash
lftp <target> -e "set ssl:verify-certificate no; set ftp:ssl-force true"
```
{% endcode %}

#### Download all files

{% code overflow="wrap" %}
```bash
wget -r --user='<user>' --password='<password>' ftp://<target>
```
{% endcode %}

## SSH

#### Default credentials

Check for default credentials depending on the vendor:

{% tabs %}
{% tab title="APC" %}
* Usernames:

```
apc
```

* Passwords:

```
device
apc
```
{% endtab %}

{% tab title="Brocade" %}

{% endtab %}
{% endtabs %}

[https://book.hacktricks.xyz/network-services-pentesting/pentesting-ssh#default-credentials](https://book.hacktricks.xyz/network-services-pentesting/pentesting-ssh#default-credentials)

#### Auto login

```
sshpass -p '<password>' ssh <user>@<target>
```

#### Private key login

{% code overflow="wrap" %}
```bash
ssh -i id_rsa <user>@<target>
```
{% endcode %}

#### Generate RSA keys

{% code overflow="wrap" %}
```bash
ssh-keygen -t rsa -f id_rsa
```
{% endcode %}

## HTTP/HTTPS

#### Web Technologies

{% code overflow="wrap" %}
```bash
whatweb http://<target>
```
{% endcode %}

{% embed url="https://www.wappalyzer.com/apps/" %}
I also recommend using this browser extension.
{% endembed %}

#### File and Directory Enumeration

{% code overflow="wrap" %}
```bash
nmap -p80,443 --script http-enum <target>
```
{% endcode %}

{% code overflow="wrap" %}
```bash
gobuster dir -u http://<target>/ -w wordlist.txt
```
{% endcode %}

{% code overflow="wrap" %}
```bash
wfuzz -w wordlist.txt http://<target>/FUZZ
```
{% endcode %}

{% code overflow="wrap" %}
```bash
# Good option for BurpSuite requests
ffuf -request request.txt -w wordlist.txt http://<target>/
```
{% endcode %}

#### Subdomain Enumeration

{% code overflow="wrap" %}
```bash
gobuster vhost -u http://<target>/ -w wordlist.txt
```
{% endcode %}

{% code overflow="wrap" %}
```bash
wfuzz -H 'Host: FUZZ.<target>' -w wordlist.txt http://<target>/
```
{% endcode %}

#### User input

{% content-ref url="web-vulnerabilities/" %}
[web-vulnerabilities](web-vulnerabilities/)
{% endcontent-ref %}

## SMB

System enumeration with `enum4linux`

```bash
enum4linux -a [-u '<user>' -p '<password>'] <target>
```

#### Shares Enumeration

{% tabs %}
{% tab title="smbclient" %}
{% code overflow="wrap" %}
```bash
# null session
smbclient -N -L //<target>
# authenticated
smbclient -U '<user>[%<password>]' -L //<target>
# conect to a share
smbclient [-U '<user>[%<password>]'] //<target>/share
```
{% endcode %}
{% endtab %}

{% tab title="smbmap" %}
{% code overflow="wrap" %}
```bash
# null session
smbmap -H <target>
# authenticated
smbmap -u '<user>' -p '<password>' -H <target>
# recursive/non-recursive listing
smbmap [-u '<user>' -p '<password>'] -R/-r share -H <target>
```
{% endcode %}
{% endtab %}

{% tab title="netexec" %}
{% code overflow="wrap" %}
```bash
# null session
nxc smb <target> -u '' -p '' --shares
# authenticated
nxc smb <target> -u '<user>' -p '<password>' --shares
# List share
nxc smb <target> [-u '<user>' -p '<password>'] --share share
```
{% endcode %}
{% endtab %}

{% tab title="nmap" %}
{% code overflow="wrap" %}
```bash
nmap -p 139,445 --script "smb-enum-shares" <target>
```
{% endcode %}
{% endtab %}
{% endtabs %}

## RPC

#### Automated Enumeration

{% code overflow="wrap" %}
```bash
rpcdump.py <target>
```
{% endcode %}

#### Manual Enumeration

{% code overflow="wrap" %}
```bash
# null session
rpcclient -U '' -N <target>
# authenticated
rpcclient -U '<user>%<password>' -N <target>
# commands
rpcclient -U '[<user>%<password>]' -N <target> -c 'command'
```
{% endcode %}

